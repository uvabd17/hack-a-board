# Fly.io Deployment Guide

## One-Time Setup

1. **Install Fly CLI:**
   ```bash
   # Windows (PowerShell)
   pwsh -Command "iwr https://fly.io/install.ps1 -useb | iex"
   
   # Mac/Linux
   curl -L https://fly.io/install.sh | sh
   ```

2. **Login to Fly.io:**
   ```bash
   fly auth login
   ```

3. **Create App (First Time Only):**
   ```bash
   cd socket-server
   fly apps create hackaboard-socket
   ```

4. **Set Secrets:**
   ```bash
   fly secrets set CLIENT_ORIGIN=https://your-nextjs-app.vercel.app
   fly secrets set EMIT_SECRET=your-secret-key-here
   ```

## Deploy

```bash
cd socket-server
fly deploy
```

## Monitor

```bash
# Check status
fly status

# View logs
fly logs

# SSH into machine
fly ssh console

# Check secrets
fly secrets list
```

## Scaling

```bash
# Scale to more machines (auto-redundancy)
fly scale count 2

# Change machine size (if needed)
fly scale vm shared-cpu-1x --memory 512
```

## Free Tier Limits
- 3 shared-cpu-1x VMs (256MB RAM each)
- 160GB outbound data transfer/month
- **No sleep/timeout** âœ…
